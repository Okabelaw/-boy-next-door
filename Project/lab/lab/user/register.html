<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>注册</title>

    <script type="text/javascript">
            window.onload = function() {
                var ur = document.getElementById("user");
                ur.onblur = function () {
                    if (ur.value == "") {
                        document.getElementById("span1").innerHTML = "<font color='red'>用户名不能为空！</font>";
                    } else if (ur.value.length < 6) {
                        document.getElementById("span1").innerHTML = "<font color='red'>用户名必须在6~14位</font>";
                    } else {
                        var regExp = /^[a-zA-Z0-9]{6,}$/;
                        var ok = regExp.test(ur.value);
                        if (ok) {
                            document.getElementById("span1").innerHTML = "<font color='blue'>通过</font>";
                        } else {
                            document.getElementById("span1").innerHTML = "<font color='red'>用户名只能由数字字母和组成</font>";
                        }
                    }
                }

                var ps = document.getElementById("password");
                var ps1 = document.getElementById("repw");
                ps.onblur = function () {
                    if(ps.value == ""){
                        document.getElementById("span3").innerHTML = "<font color='red'>请输入密码</font>";
                    }
                    ps1.onblur = function () {
                        if(ps.value != ps1.value){
                            document.getElementById("span3").innerHTML = "";
                            if(ps1.value == ""){
                                    document.getElementById("span4").innerHTML = "<font color='red'>请再次输入密码</font>";
                            }
                            else {
                                document.getElementById("span4").innerHTML = "<font color='red'>两次密码不一样</font>";
                            }
                        }
                        else if(ps.value != "" && ps1.value != ""){
                            document.getElementById("span3").innerHTML = "<font color='blue'>通过</font>";
                            document.getElementById("span4").innerHTML = "<font color='blue'>通过</font>";
                        }
                    }
                }

                var myEmail = document.getElementById("email")
                myEmail.onblur = function () {
                    if(myEmail.value == ""){
                        document.getElementById("span2").innerHTML = "<font color='red'>请输入邮箱</font>"
                    }
                    else {
                        var email = /^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;
                        var ok = email.test(myEmail.value);
                        if(ok){
                            document.getElementById("span2").innerHTML = "<font color='blue'>通过</font>";
                        }
                        else {
                            document.getElementById("span2").innerHTML = "<font color='red'>邮箱格式错误</font>";
                        }
                    }
                }
            }

            function go(){
                var userFormElt = document.getElementById("userForm");
                userFormElt.action = "";//设置表单目标url
                userFormElt.submit();
                window.location = "../index.html";
            }
        </script>

</head>
<body>
<div id="container" style="height: 100%; width:100%">

    <div style="background-color:#FFA500">
        <h1 style="text-align: center;margin-bottom: 0">火车购票系统</h1></div>
    <div style="background-color: bisque;height:600px;width:100%;float:left;">
        <img src="../resource/img.png" style="height:100%;width:65%"/>
        <div style="background-color: bisque; height: 100%;width:35%;float:right">

        <form id="userForm" method="post" align="center">
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        用户名&nbsp;&nbsp;&nbsp;&nbsp;<input type="text" id="user" name="user" maxlength=14/>
        <span id="span1" style="position: fixed"></span>
        <br>
        邮箱&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="text" id="email" name="email"/>
        <span id="span2" style="position: fixed"></span>
        <br>
        密码&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="text" id="password" name="password" />
        <span id="span3" style="position: fixed"></span>
        <br>
        确认密码&nbsp;<input type="text" id="repw"/>
        <span id="span4"style="position: fixed"></span>
        <br>
        <input type="button" value="注册" id="submitBtn" onclick="go();"/>
    </form>
        </div>
    </div>
    <div style="background-color:#FFA500;clear:both;text-align:center;height:100px;width:100%;position: fixed;bottom: 0;">
        <p style="font-family:arial;color:black;font-size:30px;">boy next door</p></div>

</div>
</body>
</html>